/* 添加到 src/styles/global.css 或创建新的 CSS 文件 */

/* 修复长标题溢出问题 */
.post-title, 
.prose h1, 
.prose h2, 
.prose h3, 
.prose h4, 
.prose h5, 
.prose h6,
article h1,
article h2,
article h3,
article h4,
article h5,
article h6 {
  word-wrap: break-word;
  word-break: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
  max-width: 100%;
}

/* 确保容器不会被内容撑大 */
.post-content,
.prose,
article,
.content-container {
  min-width: 0; /* 允许 flexbox 子元素收缩 */
  overflow-wrap: break-word;
  word-break: break-word;
}

/* 防止代码块造成水平滚动 */
.prose pre,
.prose code,
pre,
code {
  max-width: 100%;
  overflow-x: auto;
  word-break: normal;
  overflow-wrap: normal;
}

/* 防止表格造成布局问题 */
.prose table,
table {
  table-layout: fixed;
  width: 100%;
  max-width: 100%;
  overflow-x: auto;
  display: block;
  white-space: nowrap;
}

@media (min-width: 768px) {
  .prose table,
  table {
    display: table;
    white-space: normal;
  }
}

/* 响应式图片 */
.prose img,
img {
  max-width: 100%;
  height: auto;
}

/* 修复导航栏被挤压的问题 */
.navbar,
.header,
nav {
  flex-shrink: 0; /* 防止导航栏被压缩 */
  min-height: fit-content;
}

/* 确保主内容区域正确处理长文本 */
main {
  min-width: 0;
  flex: 1;
  overflow-wrap: break-word;
}

/* 修复长 URL 或链接 */
.prose a,
a {
  word-break: break-all;
  overflow-wrap: break-word;
}

/* 修复长代码行 */
.prose pre code,
pre code {
  white-space: pre;
  word-break: normal;
  overflow-wrap: normal;
}

/* 移动端特殊处理 */
@media (max-width: 768px) {
  .post-title,
  .prose h1,
  article h1 {
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    line-height: 1.2;
  }
  
  .prose h2,
  article h2 {
    font-size: clamp(1.25rem, 3.5vw, 2rem);
  }
  
  .prose h3,
  article h3 {
    font-size: clamp(1.125rem, 3vw, 1.75rem);
  }
}

/* 修复容器宽度问题 */
.container,
.max-w-screen-md,
.max-w-screen-lg {
  overflow-x: hidden;
  word-wrap: break-word;
}

/* 针对 Tailwind CSS 的修复 */
@layer utilities {
  .break-words-all {
    word-break: break-all;
    overflow-wrap: break-word;
  }
  
  .text-wrap {
    text-wrap: wrap;
    overflow-wrap: break-word;
    word-break: break-word;
  }
}